.messages-page { background:#fff; }
.container { max-width: 1160px; margin: 0 auto; padding: 16px; }
.layout { display:grid; grid-template-columns: 300px 1fr; gap: 16px; }
.conversations { border:1px solid #eee; border-radius:8px; padding: 8px; background:#fff; }
.conversations .header { display:flex; justify-content:space-between; align-items:center; padding: 4px 4px 8px; }
.conv-list { list-style:none; padding:0; margin:0; }
.conv-list li { position:relative; padding:10px; border-radius:6px; cursor:pointer; display:flex; gap:12px; align-items:flex-start; }
.conv-list li:hover { background:#fafafa; }
.conv-list li.active { background:#fff3e0; }
.conv-list .conv-avatar { 
  width:52px; 
  height:52px; 
  border-radius:50%; 
  background: linear-gradient(135deg, #667eea, #764ba2);
  color:#fff; 
  display:flex; 
  align-items:center; 
  justify-content:center; 
  font-size:18px; 
  font-weight:700; 
  flex-shrink:0;
  text-transform: uppercase;
}
.conv-list .conv-details { flex:1; min-width:0; }
.conv-list .title { font-weight:600; }
.conv-list .meta { font-size:12px; color:#666; display:flex; justify-content:space-between; }
.conv-list .last { color:#444; font-size:13px; margin-top:4px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
.conv-list .badge { position:absolute; right:10px; top:10px; background:#f39c12; color:#fff; border-radius:999px; padding:2px 6px; font-size:11px; }
.thread { border:1px solid #eee; border-radius:8px; background:#fff; display:flex; flex-direction:column; min-height:540px; }
.thread .thread-header { padding:10px 12px; border-bottom:1px solid #eee; }
.thread .thread-header .thread-title-row { display:flex; gap:12px; align-items:center; }
.thread .thread-header .thread-avatar { 
  width:48px; 
  height:48px; 
  border-radius:50%; 
  background: linear-gradient(135deg, #667eea, #764ba2);
  color:#fff; 
  display:flex; 
  align-items:center; 
  justify-content:center; 
  font-size:16px; 
  font-weight:700;
  flex-shrink:0;
  text-transform: uppercase;
}
.thread .thread-header .titles h3 { margin:0 0 4px; font-size:18px; }
.thread .thread-header .titles small { color:#666; font-size:13px; }
.thread .thread-header .contact-info { margin-top:8px; display:flex; flex-direction:column; gap:4px; }
.thread .thread-header .contact-item { display:flex; align-items:center; gap:8px; font-size:13px; color:#444; }
.thread .thread-header .contact-item i { color:#f39c12; width:14px; }
.thread .thread-header .contact-item .copy-btn { background:transparent; border:1px solid #ddd; border-radius:4px; padding:2px 6px; cursor:pointer; transition:all 0.2s; }
.thread .thread-header .contact-item .copy-btn:hover { background:#f5f5f5; border-color:#f39c12; }
.thread .thread-header .loading-contact { font-size:12px; color:#999; margin-top:8px; }
.thread .messages { 
  padding: 16px; 
  flex: 1; 
  overflow-y: auto; 
  display: flex; 
  flex-direction: column; 
  gap: 4px;
  background: #f8f9fa;
  scroll-behavior: smooth;
}

.thread .messages .loading,
.thread .messages .error,
.thread .messages .empty {
  text-align: center;
  padding: 20px;
  color: #888;
  font-size: 14px;
}

.thread .messages .date-separator {
  text-align: center;
  margin: 12px 0;
  position: relative;
}

.thread .messages .date-separator span {
  background: #e9ecef;
  padding: 4px 12px;
  border-radius: 12px;
  font-size: 11px;
  font-weight: 600;
  color: #6c757d;
  text-transform: uppercase;
}

.thread .msg-group {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  margin-bottom: 2px;
}

.thread .msg-group.me {
  align-items: flex-end;
}

.thread .msg-group .msg-header {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 4px;
  margin-top: 8px;
}

.thread .msg-group .msg-header .avatar {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  background: linear-gradient(135deg, #f39c12, #e67e22);
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 11px;
  font-weight: 700;
  flex-shrink: 0;
}

.thread .msg-group.me .msg-header .avatar {
  background: linear-gradient(135deg, #3498db, #2980b9);
}

.thread .msg-group .msg-header .sender-name {
  font-size: 12px;
  font-weight: 600;
  color: #495057;
}

.thread .msg-group .bubble {
  max-width: 65%;
  padding: 10px 14px;
  border-radius: 18px;
  background: #fff;
  box-shadow: 0 1px 2px rgba(0,0,0,0.08);
  position: relative;
  word-wrap: break-word;
}

.thread .msg-group.me .bubble {
  background: linear-gradient(135deg, #e3f2fd, #bbdefb);
  box-shadow: 0 1px 2px rgba(33, 150, 243, 0.15);
}

.thread .msg-group .bubble .content {
  font-size: 14px;
  line-height: 1.5;
  color: #212529;
  margin-bottom: 4px;
}

.thread .msg-group .bubble .time {
  font-size: 10px;
  color: #6c757d;
  text-align: right;
}
.composer { 
  display: flex; 
  gap: 8px; 
  padding: 12px; 
  border-top: 1px solid #dee2e6; 
  background: #fff;
  position: sticky;
  bottom: 0;
}

.composer input { 
  flex: 1; 
  padding: 12px 16px; 
  border: 1px solid #ced4da; 
  border-radius: 24px; 
  font-size: 14px;
  outline: none;
  transition: border-color 0.2s;
}

.composer input:focus {
  border-color: #f39c12;
}

.composer .send { 
  background: linear-gradient(135deg, #f39c12, #e67e22); 
  color: #fff; 
  border: 0; 
  border-radius: 50%; 
  width: 44px;
  height: 44px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: transform 0.2s, box-shadow 0.2s;
  box-shadow: 0 2px 4px rgba(243, 156, 18, 0.3);
}

.composer .send:hover:not(:disabled) {
  transform: scale(1.05);
  box-shadow: 0 3px 8px rgba(243, 156, 18, 0.4);
}

.composer .send:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

@media (max-width: 900px) {
  .layout { grid-template-columns: 1fr; }
}
