<div class="admin-settings-page">
	<header class="settings-header">
		<div>
			<h1>Admin Settings</h1>
			<p class="subtitle">Centralized control for moderation, security & system configuration.</p>
		</div>
		<div class="env-chip">Environment: <strong>{{ 'Production' }}</strong></div>
	</header>

	<section class="settings-grid">
		<!-- Moderation Keywords Card -->
		<div class="settings-card keywords">
			<div class="card-head">
				<h2><i class="fas fa-shield-alt"></i> Prohibited Keywords</h2>
				<button type="button" class="btn text" (click)="loadKeywords()" [disabled]="loading"><i class="fas fa-sync" [class.spin]="loading"></i> Refresh</button>
			</div>
			<p class="card-desc">Configure automatic moderation triggers for listings & reviews.</p>

			<form class="keyword-form" [formGroup]="form" (ngSubmit)="submit()">
				<div class="row">
					<input class="input" placeholder="Keyword (e.g. 'gun')" formControlName="keyword" />
					<select class="select" formControlName="category">
						<option value="">No category</option>
						<option *ngFor="let c of categories" [value]="c">{{ c }}</option>
					</select>
					<select class="select" formControlName="severity">
						<option *ngFor="let s of severities" [value]="s">{{ s }}</option>
					</select>
					<select class="select" formControlName="autoAction">
						<option *ngFor="let a of autoActions" [value]="a">{{ a }}</option>
					</select>
					<button class="btn primary" [disabled]="form.invalid || adding">Add</button>
				</div>
				<div class="hint" *ngIf="form.invalid && form.touched">Fill required fields.</div>
			</form>

			<div *ngIf="loading" class="loading-block"><i class="fas fa-spinner fa-spin"></i> Loading keywords...</div>
			<div *ngIf="error" class="error-block">{{ error }}</div>

			<div class="keywords-table" *ngIf="!loading && keywords.length">
				<div class="thead">
					<div>Keyword</div>
					<div>Category</div>
					<div>Severity</div>
					<div>Auto Action</div>
					<div></div>
				</div>
			<div class="trow" *ngFor="let k of keywords; let i = index">
				<div class="kw-text">{{ k.keyword }}</div>
				<div class="kw-cat">{{ k.category || 'â€”' }}</div>
				<div><span class="badge severity" [ngClass]="k.severity.toLowerCase()">{{ k.severity }}</span></div>
				<div><span class="badge action" [ngClass]="k.autoAction.toLowerCase()">{{ k.autoAction }}</span></div>
				<div class="row-actions">
					<button class="btn danger ghost" (click)="remove(k)"><i class="fas fa-trash"></i></button>
				</div>
			</div>
			</div>
			<div *ngIf="!loading && !keywords.length" class="empty-inline">
				<i class="fas fa-list"></i> No keywords yet.
			</div>
		</div>
	</section>
</div>
